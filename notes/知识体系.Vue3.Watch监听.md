---
id: 54dytxhzb2g5k9cnrongdxl
title: Watch监听
desc: ''
parent: '知识体系.Vue3'
updated: 1660529834467
created: 1660529820767
---

## Watch

正常使用 **watch** 

```vue
const obj = reactive({
	strNum: 0
})
watch(obj, () => {
	console.log(obj.strNum)
})
```

使用深度监听 **deep** 

```vue
const obj = reactive({
	strNum: 0
})
watch(obj, () => {
	console.log(obj.strNum)
}, { deep: true })
```

创建监听时立即执行一次

```vue
const obj = reactive({
	strNum: 0
})
watch(obj, () => {
	console.log(obj.strNum)
}, { immediate: true })
```

只执行一次 **watch** 

```vue
const watchOnce = watch(count, () => {
  console.log("Only triggered once")
  watchOnce()
})

count.value = 1
setTimeout(() => count.value = 2)
```

在监听里面返回 **更新之后的 DOM, flush** 

```vue
const eleRef = ref()
const age = ref(2)
watch(age, () => {
  console.log(eleRef.value)
},{
  flush: 'post'
})
age.value = 18
```

